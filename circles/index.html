<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<!-- Primary Meta Tags -->
		<title>Circles in beams</title>
		<meta name="title" content="Circles in beams">
		<meta name="description" content="I draw vector graphics circles inscribed in a beam.">
		<meta name="author" content="Amos Haviv">

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://amoshaviv.com/circles/">
		<meta property="og:title" content="Circles in beams">
		<meta property="og:description" content="I draw vector graphics circles inscribed in a beam.">
		<meta property="og:image" content="https://amoshaviv.com/circles/img/orbits.png">

		<!-- Twitter -->
		<meta property="twitter:card" content="Circles in beams">
		<meta property="twitter:url" content="https://amoshaviv.com/circles/">
		<meta property="twitter:title" content="Circles in beams">
		<meta property="twitter:description" content="I draw vector graphics circles inscribed in a beam.">
		<meta property="twitter:image" content="https://amoshaviv.com/circles/img/orbits.png">	

		<!-- View --> 
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="../css/dark-mode.css" >
		<link rel="stylesheet" href="../css/styles.css" >
	</head>
		<body data-theme="dark">
			<main class="container">
					<h1>Circles in beams</h1>
					<h2>Introduction</h2>
					<p>
					I draw vector graphics circles inscribed in a beam. 
					<br />
					Implementing those in self executing SVGs is surprisingly straight forward.
					</p>
					<h3><a href="svg/beam.svg">Beam</a></h3>
					<p>
					A beam is a set of circles inscribed between two lines.
					If \(R\) is the radius of the confining circle and \(\theta\) is half the angle between the two lines, the radii of of the first ring of circles is determined by: 
					$$r_{0} = R({\sin{\theta} \over 1+\sin{\theta}})$$
					And the radii of inner rings circles can be calculated by:
					$$r_{n+1} = r_{n}({1+\sin{\theta} \over 1-\sin{\theta}})$$
					</p>
					<p>
					For instance when \(\theta = {\pi \over 16}\), our beam will look as follows:
					</p>
					<a href="svg/beam.svg" class="text-center svg-link"><img alt="Beam" class="img-fluid" src="img/beam.png"/></a>
					<h3><a href="svg/beams.svg">Beams</a></h3>
					<p>
					We can draw multiple beams.
					</p>
					<a href="svg/beams.svg" class="text-center svg-link"><img alt="Beams" class="img-fluid" src="img/beams.png" /></a>
					<h3><a href="svg/grid.svg">Grid</a></h3>
					<p>
					If the angle is a fraction of pi, we can create a grid. 
					<br />
					If we choose to have \(N\) beams, our angle would be \(\theta = {\pi \over N}\).
					<br />
					In the case below, \(N=8\) and \(\theta = {\pi \over 8}\).
					</p>
					<a href="svg/grid.svg" class="text-center svg-link"><img alt="Grid" class="img-fluid" src="img/grid.png" /></a>
					<h3><a href="svg/resolution.svg">Resolution</a></h3>
					<p>
					If we decrease the angle of drawing we will have smaller circles and finer beams, doing so increases the resolution of our grid.
					</p>
					<a href="svg/resolution.svg" class="text-center svg-link"><img  alt="Resolution" class="img-fluid" src="img/resolution.png" /></a>
					<h3><a href="svg/alpha.svg">Alpha</a></h3>
					<p>
					We can set the alpha channel of each circle's fill color according to their distance from the center.
					</p>
					<a href="svg/alpha.svg" class="text-center svg-link"><img  alt="Alpha" class="img-fluid" src="img/alpha.png" /></a>
					<h3><a href="svg/color.svg">Color</a></h3>
					<p>
					We can also set the each circle's fill color according to their distance from the center.
					</p>
					<a href="svg/color.svg" class="text-center svg-link"><img  alt="Color" class="img-fluid" src="img/color.png" /></a>
					<h3><a href="svg/animation.svg">Animation</a></h3>
					<p>
					We can now use SVG SMIL animations to make circles animate on a path.
					</p>
					<a href="svg/animation.svg" class="text-center svg-link animation-link"><img  alt="Animation" class="img-fluid" src="img/animation.png" /></a>
					<h3><a href="svg/flower.svg">Flower</a></h3>
					<p>
					Tweaking the parameters of this technique allows the generation of some interesting patterns:
					</p>
					<a href="svg/flower.svg" class="text-center svg-link animation-link"><img  alt="Flower" class="img-fluid" src="img/flower.png" /></a>
					<h3><a href="svg/spirals.svg">Spirals</a></h3>
					<p>
					Choosing which beams to draw allows you to create other patterns:
					</p>
					<a href="svg/spirals.svg" class="text-center svg-link animation-link"><img  alt="Spirals" class="img-fluid" src="img/spirals.png" /></a>
					<h3><a href="svg/orbits.svg">Orbits</a></h3>
					<p>
					And adding another radius to the animation generates interesting orbits:
					</p>
					<a href="svg/orbits.svg" class="text-center svg-link animation-link"><img  alt="Orbits" class="img-fluid" src="img/orbits.png" /></a>
					<h3><a href="svg/ellipse.svg">Ellipse</a></h3>
					<p>
					Different parameters create different patterns:
					</p>
					<a href="svg/ellipse.svg" class="text-center svg-link animation-link"><img  alt="Ellipse" class="img-fluid" src="img/ellipse.png" /></a>
					<h3><a href="svg/yy.svg">YY</a></h3>
					<p>
					And overlaying them over each other can create familiar patterns:
					</p>
					<a href="svg/yy.svg" class="text-center svg-link animation-link"><img  alt="YY" class="img-fluid" src="img/yy.png" /></a>
					<h3><a href="svg/bubbles.svg">Bubbles</a></h3>
					<p>
					Changing the animation parameters leads to some fun outcomes:
					</p>
					<a href="svg/bubbles.svg" class="text-center svg-link animation-link"><img  alt="Bubbles" class="img-fluid" src="img/bubbles.png" /></a>
					<h3><a href="svg/phoenix.svg">Phoenix</a></h3>
					<p>
					We can also create asymmetrical animation:
					</p>
					<a href="svg/phoenix.svg" class="text-center svg-link animation-link"><img  alt="Phoenix" class="img-fluid" src="img/phoenix.png" /></a>
					<h3><a href="svg/shell.svg">Shell</a></h3>
					<p>
					And generally have fun with the results:
					</p>
					<a href="svg/shell.svg" class="text-center svg-link animation-link"><img  alt="Shell" class="img-fluid" src="img/shell.png" /></a>
					<h3><a href="/spheres/">Spheres</a></h3>
					<p>
					Or go 3D:
					</p>
					<a href="/spheres/" class="text-center svg-link render-link"><img  alt="Spheres" class="img-fluid" src="img/spheres.png" /></a>
					<h3>Interesting discovery:</h3>
					<p>
					While I was coding this, I started noticing the total area of the inner circles is converging. 
					This makes sense, since the area of the circles is limited by the number of beams and is getting smaller at each ring.
					<br>
					<h5>What is the total area of all the circles in a single beam?</h5>
					Like in high school we will start with the unit circle as the outer perimeter, with \(r_0\) being the radius of the first ring of circles, \(r_1\) being the radius of the second ring of circles, and so on.
					Since the unit circle has a radius of 1, we can immediately deduce the following:
					$$r_{0} = ({\sin{\theta} \over 1+\sin{\theta}})$$
					and we already know that:
					$$r_{n+1} = r_{n} ({1-\sin{\theta} \over 1+\sin{\theta}})$$
					that means that:
					$$r_{1} = {(\sin{\theta})({1-\sin{\theta})} \over (1+\sin{\theta})^2}$$
					and: 
					$$r_{2} = {(\sin{\theta})({1-\sin{\theta})^2} \over (1+\sin{\theta})^3}$$
					so generally we can say that:
					$$r_{n} = {(\sin{\theta})({1-\sin{\theta})^n} \over (1+\sin{\theta})^{n+1}}$$
					so if the area of a single circle in a beam is:
					$$A_{n} = \pi r_{n}^2 = \pi ({(\sin{\theta})({1-\sin{\theta})^n} \over (1+\sin{\theta})^{n+1}})^2$$
					the area of a single beam of circles will be:
					$$A_{b} = \pi \sum_{n=0}^{\infty} ({(\sin{\theta})({1-\sin{\theta})^n} \over (1+\sin{\theta})^{n+1}})^2 $$
					and since we're dealing with two or more beams, we know that:
					$$ 0 < \theta < {\pi \over 2} $$
					it means the sum of areas of all the circles inscribed in a beam converges to:
					$$A_{b} = \pi \sum_{n=0}^{\infty} ({(\sin{\theta})({1-\sin{\theta})^n} \over (1+\sin{\theta})^{n+1}})^2 = {\pi \sin{\theta} \over 4}$$
					<h5>What is the total area of all the circles in all the beams?</h5>
					Assuming we have \(k\) beams, then \(\theta = {\pi \over k}\) and our sum would be:
					$$A_{k} = {k A_{b}} = {\pi k \sin{\pi \over k} \over 4}$$
					and if we take the limit of \(k\), we will get:
					$$\lim_{k \to \infty} {\pi k \sin{\pi \over k} \over 4} = {\pi^2 \over 4} \tag*{$\blacksquare$}$$
					I still need to verify these were all mathematically rigorous steps, but I find quite beautiful that no matter small circles are, they can never cover more than \(\pi \over 4 \) of the outer circle.
					</p>
			</main>
			<footer class="container mt-2"><small>Â© AH MMXX</small></footer>
			<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
			<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
		</body>
</html>

(this.webpackJsonpcalc=this.webpackJsonpcalc||[]).push([[0],{55:function(e,t,n){e.exports=n(65)},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),c=n.n(i),l=n(105),o=n(104),s=n(36),u=n(48),f=Object(u.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:s.a.A400},background:{default:"#fff"}}}),m=n(17),g=n(103),b=n(108),d=n(109),y=n(101),v=n(106);function p(e){return e.reduce((function(e,t,n){return n>0&&(e+=","),Array.isArray(t)?e+t[0]+"-"+t[1]:isNaN(t)?void 0:e+t}),"")}var x=function(e){e.setConfig;var t=e.config,n=t.beams?t.beams.join(","):"",a=p(t.ringsConfig),i=p(t.beamsConfig);return r.a.createElement(b.a,{pt:2,pb:1},r.a.createElement("form",{method:"get",id:"toolbar"},r.a.createElement(y.a,{container:!0,spacing:1},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement(v.a,{id:"beams",name:"beams",fullWidth:!0,label:"Beams",defaultValue:n,variant:"outlined"})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement(v.a,{id:"ringsConfig",name:"ringsConfig",fullWidth:!0,label:"Rings Config",defaultValue:a,variant:"outlined"})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement(v.a,{id:"beamsConfig",name:"beamsConfig",fullWidth:!0,label:"Beams Config",defaultValue:i,variant:"outlined"})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(d.a,{fullWidth:!0,size:"large",variant:"outlined",type:"submit"},"Update")))))},h=n(4),C=n(38),E=function(e,t,n){var a=!1,r=!1;if(e.ringsConfig||(a=!0),e.ringsConfig){var i,c=Object(C.a)(e.ringsConfig);try{for(c.s();!(i=c.n()).done;){var l=i.value;Array.isArray(l)&&t>=l[0]&&t<=l[1]&&(a=!0),isNaN(l)||l!==t||(a=!0)}}catch(f){c.e(f)}finally{c.f()}}if(e.beamsConfig||(r=!0),e.beamsConfig){var o,s=Object(C.a)(e.beamsConfig);try{for(s.s();!(o=s.n()).done;){var u=o.value;Array.isArray(u)&&n>=u[0]&&n<=u[1]&&(r=!0),isNaN(u)||u!==n||(r=!0)}}catch(f){s.e(f)}finally{s.f()}}return a&&r};var N=function(){for(var e=[],t=[],n=0;n<=40;n++)e.push({x1:n/20,y1:0,x2:n/20,y2:2}),t.push({y1:n/20,x1:0,y2:n/20,x2:2});return e.concat(t)}();Object(h.a)((function(e){return{line:{},text:{letterSpacing:"normal"}}}))((function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,N.map((function(e,n){return[r.a.createElement("line",{key:"grid-line-".concat(n),x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"rgba(0,0,0,0.2)",strokeWidth:"0.001",className:t.line}),r.a.createElement("text",{key:"grid-line-text-".concat(n),className:t.text,x:e.x1,y:2-e.y1,fontSize:"0.02"},((e.y1||e.x1)-1).toFixed(2))]})),")}")}));var O=Object(h.a)((function(e){return{circle:{"&:hover":{fill:"red"}}}}))((function(e){var t=e.circles,n=e.onCircleClick,i=(e.onCircleBlur,e.classes),c=Object(a.useState)(null),l=Object(m.a)(c,2),o=l[0],s=l[1];return t.map((function(e){return r.a.createElement("circle",{className:i.circle,onClick:function(t){return function(e,t){e&&(o&&o.setAttribute("fill","rgba(0,0,0,0.1)"),e.setAttribute("fill","yellow"),s(e)),n(t)}(t.target,e)},onBlur:function(e){return console.log(e.target)},key:"circle-a".concat(e.numberOfBeams,"-b").concat(e.beam,"-r").concat(e.ring),fill:"rgba(0,0,0,0.1)",cx:e.cx,cy:e.cy,r:e.radius})}))}));var j=Object(h.a)((function(e){return{tooltip:{letterSpacing:"normal"}}}))((function(e){var t=e.clickLocation,n=e.hoveredCircle,i=e.classes,c=Object(a.useRef)(null),l=c.current?c.current.getBBox().width:0,o=(c.current&&c.current.getBBox().height,2*t.x),s=2*t.y,u=o+l>2?o-l:o,f=s;return[r.a.createElement("circle",{cx:o,cy:s,fill:"blue",r:.005}),r.a.createElement("text",{key:"text",className:i.tooltip,x:u,y:f,fontSize:"0.05",fill:"white",stroke:"black",strokeWidth:"0.002",ref:c},"x: ",(2*t.x-1).toFixed(4)," | y: ",(1-2*t.y).toFixed(4)," |",n&&"c: ".concat(n.beam,"/").concat(n.numberOfBeams))]}));var k=function(e){e.config;var t=e.circles,n=Object(a.useRef)(null),i=Object(a.useState)(null),c=Object(m.a)(i,2),l=c[0],o=c[1],s=Object(a.useState)(null),u=Object(m.a)(s,2),f=u[0],g=u[1];return r.a.createElement("svg",{onBlur:function(e){o(null)},onClick:function(e){var t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width,a=(e.clientY-t.top)/t.height;o({x:n,y:a}),e.preventDefault(),e.stopPropagation()},viewBox:"0 0 2 2",xmlns:"http://www.w3.org/2000/svg",ref:n},r.a.createElement(O,{circles:t,onCircleClick:function(e){g(e)}}),l&&r.a.createElement(j,{hoveredCircle:f,clickLocation:l}))},w={beams:[3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],ringsConfig:[[0,20]],beamsConfig:[[0,20]]},B=n(47),A=n.n(B);var S=function(){var e=function(){var e={},t=A.a.parse(window.location.search,{ignoreQueryPrefix:!0});return t&&(t.beams&&(e.beams=t.beams.split(",").map((function(e){return Number.parseInt(e)})).filter((function(e){return!isNaN(e)}))),t.ringsConfig&&(e.ringsConfig=t.ringsConfig.split(",").map((function(e){if(console.log(e),e.indexOf("-")>-1){var t=e.split("-").map((function(e){return Number.parseInt(e)})).filter((function(e){return!isNaN(e)}));if(2===t.length)return t}return Number.parseInt(e)})).filter((function(e){return!!Array.isArray(e)||!isNaN(e)}))),t.beamsConfig&&(e.beamsConfig=t.beamsConfig.split(",").map((function(e){if(console.log(e),e.indexOf("-")>-1){var t=e.split("-").map((function(e){return Number.parseInt(e)})).filter((function(e){return!isNaN(e)}));if(2===t.length)return t}return Number.parseInt(e)})).filter((function(e){return!!Array.isArray(e)||!isNaN(e)})))),e}(),t=Object.assign({},w,e),n=Object(a.useState)(t),i=Object(m.a)(n,2),c=i[0],l=i[1],o=t.beams.reduce((function(e,n){return e.concat(function(e,t){for(var n=[],a=Math.PI/e,r=Math.sin(a),i=(1-r)/(1+r),c=1/(1+r),l=r/(1+r),o=t.maximumBeams?Math.min(t.maximumBeams,e):e,s=0;l>1e-6;){for(var u=0;u<o;u++)if(E(t,s,u)){var f=1+c*Math.cos(2*a*u),m=1+c*Math.sin(2*a*u);n.push({cy:m,cx:f,radius:l,beam:u,angle:a,ring:s,numberOfBeams:e,distanceFromCenter:c})}l*=i,c*=i,s++}return n}(n,t))}),[]),s=Object(a.useState)(o),u=Object(m.a)(s,2),f=u[0];return u[1],r.a.createElement(g.a,null,r.a.createElement(x,{config:c,setConfig:l}),r.a.createElement(k,{config:c,circles:f}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{theme:f},r.a.createElement(l.a,null),r.a.createElement(S,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.bb9babec.chunk.js.map
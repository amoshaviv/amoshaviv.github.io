(this.webpackJsonpcalc=this.webpackJsonpcalc||[]).push([[0],{55:function(e,t,a){e.exports=a(65)},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),c=a.n(i),l=a(105),m=a(104),s=a(36),u=a(48),o=Object(u.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:s.a.A400},background:{default:"#fff"}}}),f=a(17),g=a(103),d=a(108),x=a(109),b=a(101),p=a(106);var v=function(e){e.setConfig;var t=e.config,a=t.beams?t.beams.join(","):"",n=t.rings.reduce((function(e,t,a){return a>0&&(e+=","),Array.isArray(t)?e+t[0]+"-"+t[1]:isNaN(t)?void 0:e+t}),"");return r.a.createElement(d.a,{pt:2,pb:1},r.a.createElement("form",{method:"get",id:"toolbar"},r.a.createElement(b.a,{container:!0,spacing:1},r.a.createElement(b.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(p.a,{id:"beams",name:"beams",fullWidth:!0,label:"Beams",defaultValue:a,variant:"outlined"})),r.a.createElement(b.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(p.a,{id:"rings",name:"rings",fullWidth:!0,label:"Rings",defaultValue:n,variant:"outlined"})),r.a.createElement(b.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(p.a,{id:"maximumRings",name:"maximumRings",fullWidth:!0,label:"Maximum Rings",defaultValue:t.maximumRings,variant:"outlined"})),r.a.createElement(b.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(p.a,{id:"maximumBeams",name:"maximumBeams",fullWidth:!0,label:"Maximum Beams",defaultValue:t.maximumBeams,variant:"outlined"})),r.a.createElement(b.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(x.a,{fullWidth:!0,size:"large",variant:"outlined",type:"submit"},"Update")))))},y=a(4),h=a(46),E=function(e,t,a){if(!e.rings)return!0;if(e.rings){var n,r=Object(h.a)(e.rings);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(Array.isArray(i)&&t>i[0]&&t<i[1])return!0;if(!isNaN(i)&&i===t)return!0}}catch(c){r.e(c)}finally{r.f()}}return!1};var B=function(){for(var e=[],t=[],a=0;a<=40;a++)e.push({x1:a/20,y1:0,x2:a/20,y2:2}),t.push({y1:a/20,x1:0,y2:a/20,x2:2});return e.concat(t)}();Object(y.a)((function(e){return{line:{},text:{letterSpacing:"normal"}}}))((function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,B.map((function(e,a){return[r.a.createElement("line",{key:"grid-line-".concat(a),x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"rgba(0,0,0,0.2)",strokeWidth:"0.001",className:t.line}),r.a.createElement("text",{key:"grid-line-text-".concat(a),className:t.text,x:e.x1,y:2-e.y1,fontSize:"0.02"},((e.y1||e.x1)-1).toFixed(2))]})),")}")}));var N=Object(y.a)((function(e){return{circle:{"&:hover":{fill:"red"}}}}))((function(e){var t=e.circles,a=e.onCircleClick,i=(e.onCircleBlur,e.classes),c=Object(n.useState)(null),l=Object(f.a)(c,2),m=l[0],s=l[1];return t.map((function(e){return r.a.createElement("circle",{className:i.circle,onClick:function(t){return function(e,t){e&&(m&&m.setAttribute("fill","rgba(0,0,0,0.1)"),e.setAttribute("fill","yellow"),s(e)),a(t)}(t.target,e)},onBlur:function(e){return console.log(e.target)},key:"circle-a".concat(e.numberOfBeams,"-b").concat(e.beam,"-r").concat(e.ring),fill:"rgba(0,0,0,0.1)",cx:e.cx,cy:e.cy,r:e.radius})}))}));var O=Object(y.a)((function(e){return{tooltip:{letterSpacing:"normal"}}}))((function(e){var t=e.clickLocation,a=e.hoveredCircle,i=e.classes,c=Object(n.useRef)(null),l=c.current?c.current.getBBox().width:0,m=(c.current&&c.current.getBBox().height,2*t.x),s=2*t.y,u=m+l>2?m-l:m,o=s;return[r.a.createElement("circle",{cx:m,cy:s,fill:"blue",r:.005}),r.a.createElement("text",{key:"text",className:i.tooltip,x:u,y:o,fontSize:"0.05",fill:"white",stroke:"black",strokeWidth:"0.002",ref:c},r.a.createElement("tspan",{x:u,dy:"1.2em"},"x: ",(2*t.x-1).toFixed(4)),r.a.createElement("tspan",{x:u,dy:"1.2em"},"y: ",(1-2*t.y).toFixed(4)),a&&r.a.createElement("tspan",{x:u,dy:"1.2em"},"Circle: ",a.beam,"/",a.numberOfBeams))]}));var k=function(e){e.config;var t=e.circles,a=Object(n.useRef)(null),i=Object(n.useState)(null),c=Object(f.a)(i,2),l=c[0],m=c[1],s=Object(n.useState)(null),u=Object(f.a)(s,2),o=u[0],g=u[1];return r.a.createElement("svg",{onBlur:function(e){m(null)},onClick:function(e){var t=e.currentTarget.getBoundingClientRect(),a=(e.clientX-t.left)/t.width,n=(e.clientY-t.top)/t.height;m({x:a,y:n}),e.preventDefault(),e.stopPropagation()},viewBox:"0 0 2 2",xmlns:"http://www.w3.org/2000/svg",ref:a},r.a.createElement(N,{circles:t,onCircleClick:function(e){g(e)}}),l&&r.a.createElement(O,{hoveredCircle:o,clickLocation:l}))},j={beams:[3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],rings:[[1,20]]},w=a(47),C=a.n(w);var R=function(){var e=function(){var e={},t=C.a.parse(window.location.search,{ignoreQueryPrefix:!0});if(t){if(t.beams&&(e.beams=t.beams.split(",").map((function(e){return Number.parseInt(e)})).filter((function(e){return!isNaN(e)}))),t.maximumBeams){var a=Number.parseInt(t.maximumBeams);isNaN(a)||(e.maximumBeams=a)}if(t.maximumRings){var n=Number.parseInt(t.maximumRings);isNaN(n)||(e.maximumRings=n)}t.rings&&(e.rings=t.rings.split(",").map((function(e){if(console.log(e),e.indexOf("-")>-1){var t=e.split("-").map((function(e){return Number.parseInt(e)})).filter((function(e){return!isNaN(e)}));if(2===t.length)return t}return Number.parseInt(e)})).filter((function(e){return!!Array.isArray(e)||!isNaN(e)})),console.log(e.rings))}return e}(),t=Object.assign({},j,e),a=Object(n.useState)(t),i=Object(f.a)(a,2),c=i[0],l=i[1],m=t.beams.reduce((function(e,a){return e.concat(function(e,t){for(var a=[],n=Math.PI/e,r=Math.sin(n),i=(1-r)/(1+r),c=1/(1+r),l=r/(1+r),m=t.maximumBeams?Math.min(t.maximumBeams,e):e,s=0;l>1e-6;){for(var u=0;u<m;u++)if(E(t,s)){var o=1+c*Math.cos(2*n*u),f=1+c*Math.sin(2*n*u);a.push({cy:f,cx:o,radius:l,beam:u,angle:n,ring:s,numberOfBeams:e,distanceFromCenter:c})}l*=i,c*=i,s++}return a}(a,t))}),[]),s=Object(n.useState)(m),u=Object(f.a)(s,2),o=u[0];return u[1],r.a.createElement(g.a,null,r.a.createElement(v,{config:c,setConfig:l}),r.a.createElement(k,{config:c,circles:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{theme:o},r.a.createElement(l.a,null),r.a.createElement(R,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.d3bece31.chunk.js.map